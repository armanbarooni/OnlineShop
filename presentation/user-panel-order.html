<!doctype html>
<html lang="en" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>قالب فرشگاهی آرینو</title>
    <meta name="description"
        content="قالب فرشگاهی آرینو، بهترین قالب برای فروشگاه‌های اینترنتی با طراحی مدرن و واکنش‌گرا.">
    <meta name="keywords" content="قالب فروشگاهی, قالب آرینو, فروشگاه اینترنتی, طراحی واکنش‌گرا">
    <meta name="robots" content="index, follow">
    <meta name="author" content="آرینو">
    <meta name="copyright" content="تمامی حقوق متعلق به آرینو است.">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/images/favicon_io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/images/favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/images/favicon_io/favicon-16x16.png">
    <link rel="canonical" href="https://example.com/your-page-url">
    <link rel="stylesheet" href="assets/js/plugin/swiper/swiper-bundle.min.css">
    <link rel="stylesheet" href="assets/css/app.css">
    <link rel="preload" href="assets/fonts/payda/PeydaWebFaNum-Medium.woff2" as="font" type="font/woff2" crossorigin>
</head>

<body
    class="bg-light dark:bg-background-dark text-text-primary-light dark:text-text-primary-dark transition-colors duration-200">

    <div class="flex h-screen overflow-hidden max-w-[1920px] mx-auto">
        <!-- sidebar -->
        <div class="hidden lg:flex lg:flex-shrink-0">
            <div
                class="flex flex-col w-72 bg-card-light dark:bg-card-dark border-e border-gray-200 dark:border-gray-700 shadow-sm">
                <!-- logo -->
                <div class="flex items-center justify-center h-20 px-4 border-b border-gray-200 dark:border-gray-700">
                    <div class="flex items-center">
                        <div class="w-10 h-10 rounded-md bg-primary-grad flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
                            </svg>
                        </div>
                        <h1 class="ms-3 text-xl font-bold text-dark dark:text-light">قالب <span
                                class="text-primary">آرینو </span></h1>
                    </div>
                </div>

                <!-- menu -->
                <div class="flex flex-col flex-grow p-4 overflow-y-auto">
                    <!-- menu -->
                    <nav class="space-y-1">
                        <!-- Dashboard -->
                        <a href="user-panel-index.html"
                            class="flex items-center px-4 py-3 text-sm font-medium rounded-lg bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline me-2" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M3 12l9-7 9 7v7a2 2 0 01-2 2h-4a2 2 0 01-2-2v-3H9v3a2 2 0 01-2 2H3a2 2 0 01-2-2v-7z" />
                            </svg>
                            پیشخوان
                            <span class="ms-auto w-2 h-2 rounded-full bg-primary-600 dark:bg-primary-400"></span>
                        </a>

                        <!-- Profile -->
                        <a href="user-panel-profile.html"
                            class="block px-4 py-3 text-sm font-medium text-gray-900 rounded-lg hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline me-2" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM4 21a8 8 0 1116 0H4z" />
                            </svg>
                            پروفایل
                        </a>

                        <!-- Interests -->
                        <a href="user-panel-favorite.html"
                            class="block px-4 py-3 text-sm font-medium text-gray-900 rounded-lg hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline me-2" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M4.318 6.318a4.5 4.5 0 016.364 0L12 7.636l1.318-1.318a4.5 4.5 0 116.364 6.364L12 21l-7.682-7.318a4.5 4.5 0 010-6.364z" />
                            </svg>
                            علاقه‌مندی‌ها
                        </a>

                        <!-- Orders -->
                        <div class="space-y-1">
                            <button type="button"
                                class="w-full flex items-center justify-between px-4 py-3 text-sm font-medium text-gray-900 rounded-lg hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"
                                onclick="toggleMenu('order-menu','order-arrow')">
                                <span class="flex items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline me-2" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M3 3h18v4H3zM5 7v12a2 2 0 002 2h10a2 2 0 002-2V7" />
                                    </svg>
                                    سفارش‌ها
                                </span>
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    class="h-4 w-4 transition-transform duration-300" id="order-arrow" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M19 9l-7 7-7-7" />
                                </svg>
                            </button>
                            <div id="order-menu" class="hidden me-6 space-y-1">
                                <a href="user-panel-order.html"
                                    class="block text-sm px-4 py-2 rounded hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline me-1" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M9 5h6m4 4H5m0 0v9a2 2 0 002 2h10a2 2 0 002-2V9H5z" />
                                    </svg>
                                    لیست سفارش‌ها
                                </a>
                                <a href="user-panel-order.html"
                                    class="block text-sm px-4 py-2 rounded hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline me-1" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                    جزئیات سفارش
                                </a>
                                <a href="user-panel-order-return-step-one.html"
                                    class="block text-sm px-4 py-2 rounded hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline me-1" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M4 4v5h.582A10 10 0 1021 12" />
                                    </svg>
                                    مرجوعی — مرحله ۱
                                </a>
                                <a href="user-panel-order-return-step-two.html"
                                    class="block text-sm px-4 py-2 rounded hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline me-1" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M4 4v5h.582A10 10 0 1019 9" />
                                    </svg>
                                    مرجوعی — مرحله ۲
                                </a>
                                <a href="user-panel-order-return-step-three.html"
                                    class="block text-sm px-4 py-2 rounded hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline me-1" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M4 4v5h.582A10 10 0 1017 6" />
                                    </svg>
                                    مرجوعی — مرحله ۳
                                </a>
                            </div>
                        </div>

                        <!-- Addresses -->
                        <div class="space-y-1">
                            <button type="button"
                                class="w-full flex items-center justify-between px-4 py-3 text-sm font-medium text-gray-900 rounded-lg hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"
                                onclick="toggleMenu('address-menu','address-arrow')">
                                <span class="flex items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline me-2" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M12 11c1.657 0 3-1.567 3-3.5S13.657 4 12 4 9 5.567 9 7.5 10.343 11 12 11z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M19 21a7 7 0 10-14 0h14z" />
                                    </svg>
                                    آدرس‌ها
                                </span>
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    class="h-4 w-4 transition-transform duration-300" id="address-arrow" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M19 9l-7 7-7-7" />
                                </svg>
                            </button>
                            <div id="address-menu" class="hidden me-6 space-y-1">
                                <a href="user-panel-address.html"
                                    class="block text-sm px-4 py-2 rounded hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline me-1" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M3 7l9-4 9 4v6a9 9 0 11-18 0V7z" />
                                    </svg>
                                    لیست آدرس‌ها
                                </a>
                                <a href="user-panel-address.html"
                                    class="block text-sm px-4 py-2 rounded hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline me-1" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5M15 3l6 6M13 5l6 6M9 15v2h2l8-8-2-2-8 8z" />
                                    </svg>
                                    ویرایش آدرس
                                </a>
                            </div>
                        </div>

                        <!--wallet-->
                        <div class="space-y-1">
                            <button type="button"
                                class="w-full flex items-center justify-between px-4 py-3 text-sm font-medium text-gray-900 rounded-lg hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"
                                onclick="toggleMenu('wallet-menu','wallet-arrow')">
                                <span class="flex items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline me-2" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2h14a2 2 0 002-2v-6H9" />
                                    </svg>
                                    کیف پول
                                </span>
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    class="h-4 w-4 transition-transform duration-300" id="wallet-arrow" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M19 9l-7 7-7-7" />
                                </svg>
                            </button>
                            <div id="wallet-menu" class="hidden me-6 space-y-1">
                                <a href="user-panel-wallet.html"
                                    class="block text-sm px-4 py-2 rounded hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline me-1" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M17 9H7a2 2 0 00-2 2v6h14v-4a4 4 0 00-4-4z" />
                                    </svg>
                                    داشبورد کیف پول
                                </a>
                                <a href="user-panel-increase-money.html"
                                    class="block text-sm px-4 py-2 rounded hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline me-1" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M12 6v12m6-6H6" />
                                    </svg>
                                    افزایش موجودی
                                </a>
                                <a href="user-panel-transfer-money.html"
                                    class="block text-sm px-4 py-2 rounded hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline me-1" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M17 8l4 4-4 4M7 8l-4 4 4 4M3 12h18" />
                                    </svg>
                                    انتقال وجه
                                </a>
                            </div>
                        </div>

                        <!-- Tickets -->
                        <div class="space-y-1">
                            <button type="button"
                                class="w-full flex items-center justify-between px-4 py-3 text-sm font-medium text-gray-900 rounded-lg hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"
                                onclick="toggleMenu('ticket-menu','ticket-arrow')">
                                <span class="flex items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline me-2" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M4 7h16v10a2 2 0 01-2 2H6a2 2 0 01-2-2V7zM4 7l4-4h8l4 4" />
                                    </svg>
                                    تیکت‌ها
                                </span>
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    class="h-4 w-4 transition-transform duration-300" id="ticket-arrow" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M19 9l-7 7-7-7" />
                                </svg>
                            </button>
                            <div id="ticket-menu" class="hidden me-6 space-y-1">
                                <a href="user-panel-ticket.html"
                                    class="block text-sm px-4 py-2 rounded hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline me-1"
                                        viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M8 10h8M8 14h5M4 6h16v12H4z" />
                                    </svg>
                                    لیست تیکت‌ها
                                </a>
                                <a href="user-panel-ticket-chat.html"
                                    class="block text-sm px-4 py-2 rounded hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline me-1"
                                        viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M7 8h10M7 12h6M21 15a4 4 0 01-4 4H7l-4 3V5a4 4 0 014-4h10a4 4 0 014 4v10z" />
                                    </svg>
                                    چت تیکت
                                </a>
                                <a href="user-panel-ticket-form.html"
                                    class="block text-sm px-4 py-2 rounded hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline me-1"
                                        viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M12 6v12m6-6H6" />
                                    </svg>
                                    ارسال تیکت
                                </a>
                            </div>
                        </div>

                        <!-- Views -->
                        <div class="space-y-1">
                            <button type="button"
                                class="w-full flex items-center justify-between px-4 py-3 text-sm font-medium text-gray-900 rounded-lg hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"
                                onclick="toggleMenu('comment-menu','comment-arrow')">
                                <span class="flex items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline me-2" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                                    </svg>
                                    دیدگاه‌ها
                                </span>
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    class="h-4 w-4 transition-transform duration-300" id="comment-arrow" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M19 9l-7 7-7-7" />
                                </svg>
                            </button>
                            <div id="comment-menu" class="hidden me-6 space-y-1">
                                <a href="user-panel-comment.html"
                                    class="block text-sm px-4 py-2 rounded hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline me-1" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M7 8h10M7 12h6M5 20l2.5-2H19a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v14z" />
                                    </svg>
                                    دیدگاه‌ها
                                </a>
                                <a href="user-panel-edit-comment.html"
                                    class="block text-sm px-4 py-2 rounded hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline me-1" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5M16 3l5 5M13 6l5 5M9 14v2h2l8-8-2-2-8 8z" />
                                    </svg>
                                    ویرایش دیدگاه
                                </a>
                            </div>
                        </div>

                        <!-- Discounts -->
                        <div class="space-y-1">
                            <button type="button"
                                class="w-full flex items-center justify-between px-4 py-3 text-sm font-medium text-gray-900 rounded-lg hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"
                                onclick="toggleMenu('discount-menu','discount-arrow')">
                                <span class="flex items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline me-2" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M7 7l10 10M7 17L17 7M4 6h16v12H4z" />
                                    </svg>
                                    تخفیف‌ها
                                </span>
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    class="h-4 w-4 transition-transform duration-300" id="discount-arrow" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M19 9l-7 7-7-7" />
                                </svg>
                            </button>
                            <div id="discount-menu" class="hidden me-6 space-y-1">
                                <a href="user-panel-discount.html"
                                    class="block text-sm px-4 py-2 rounded hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline me-1" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M16 7a4 4 0 11-8 0M3 21h18M5 21l2-6h10l2 6" />
                                    </svg>
                                    کدهای تخفیف من
                                </a>
                                <a href="user-panel-get-discount.html"
                                    class="block text-sm px-4 py-2 rounded hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline me-1" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M12 6v12m6-6H6" />
                                    </svg>
                                    دریافت تخفیف
                                </a>
                                <a href="user-panel-gift-cart.html"
                                    class="block text-sm px-4 py-2 rounded hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline me-1" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M20 12H4m16 0l-3 3m3-3l-3-3M4 8h16v8H4z" />
                                    </svg>
                                    کارت هدیه
                                </a>
                            </div>
                        </div>

                        <!--Site notifications-->
                        <a href="user-panel-site-notification.html"
                            class="block px-4 py-3 text-sm font-medium text-gray-900 rounded-lg hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline me-2" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1" />
                            </svg>
                            اعلان‌های سایت
                        </a>

                        <!-- other -->
                        <a href="user-panel-last-viewd.html"
                            class="block px-4 py-3 text-sm font-medium text-gray-900 rounded-lg hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline me-2" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                            </svg>
                            آخرین بازدیدها
                        </a>

                        <a href="user-panel-activiti.html"
                            class="block px-4 py-3 text-sm font-medium text-gray-900 rounded-lg hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline me-2" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M3 12h3l3 7 4-14 3 7h5" />
                            </svg>
                            فعالیت‌ها
                        </a>

                        <a href="user-panel-discus.html"
                            class="block px-4 py-3 text-sm font-medium text-gray-900 rounded-lg hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline me-2" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M7 8h10M7 12h8M5 20l2.5-2H19a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v14z" />
                            </svg>
                            بحث‌ها
                        </a>

                        <a href="user-panel-change-password.html"
                            class="block px-4 py-3 text-sm font-medium text-gray-900 rounded-lg hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline me-2" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 11c-1.657 0-3-1.343-3-3V6a3 3 0 016 0v2c0 1.657-1.343 3-3 3z" />
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M5 11h14v8a2 2 0 01-2 2H7a2 2 0 01-2-2v-8z" />
                            </svg>
                            تغییر رمز عبور
                        </a>

                        <a href="user-panel-blank.html"
                            class="block px-4 py-3 text-sm font-medium text-gray-900 rounded-lg hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline me-2" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor">
                                <rect x="4" y="4" width="16" height="16" rx="2" ry="2"></rect>
                            </svg>
                            صفحه خالی
                        </a>
                    </nav>
                    <!-- user profile -->
                    <div class="mt-auto p-4 bg-gray-50 dark:bg-gray-900 rounded-xl">
                        <div class="flex items-center">
                            <div class="relative">
                                <img class="h-12 w-12 rounded-full border-2 border-white dark:border-gray-800 shadow"
                                    src="assets/images/user/user.jpg" alt="پروفایل کاربر">
                                <span
                                    class="absolute bottom-0 start-0 w-3 h-3 rounded-full bg-success dark:bg-success-dark border-2 border-white dark:border-gray-800"></span>
                            </div>
                            <div class="ms-3">
                                <p class="text-sm font-medium text-dark dark:text-light">مریم محمدی</p>
                                <p class="text-xs text-gray-500 dark:text-gray-400">سطح طلایی</p>
                            </div>
                        </div>
                        <button
                            class="mt-4 w-full flex items-center justify-center px-4 py-2 text-sm text-gray-600 dark:text-gray-300 bg-white dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 border border-gray-200 dark:border-gray-600">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 me-2" viewBox="0 0 20 20"
                                fill="currentColor">
                                <path fill-rule="evenodd"
                                    d="M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z"
                                    clip-rule="evenodd" />
                            </svg>
                            خروج از حساب
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- main content -->
        <div class="flex flex-col flex-1 overflow-hidden">
            <!-- header -->
            <header
                class="flex items-center justify-between px-6 py-4 bg-white dark:bg-card-dark border-b border-gray-200 dark:border-gray-700">
                <div class="flex items-center">
                    <!-- Button menu for mobile -->
                    <button onclick="toggleOffcanvas('offcanvas-responsive-menu-right')"
                        class="lg:hidden text-gray-500 dark:text-gray-400 focus:outline-none">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </button>

                    <!-- search -->
                    <div class="relative max-lg:hidden ms-4 lg:ms-0 lg:w-96">
                        <span class="absolute inset-y-0 start-0 flex items-center ps-3">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" viewBox="0 0 20 20"
                                fill="currentColor">
                                <path fill-rule="evenodd"
                                    d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z"
                                    clip-rule="evenodd" />
                            </svg>
                        </span>
                        <input type="text"
                            class="w-full ps-10 pe-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white placeholder-gray-500"
                            placeholder="جستجو در پنل کاربری...">
                    </div>
                </div>

                <!-- top menu -->
                <div class="flex items-center space-x-4 space-x-reverse">
                    <!-- Change mode button -->
                    <button id="dark-mode-toggle"
                        class="text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 focus:outline-none">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 hidden dark:block" fill="none"
                            viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
                        </svg>
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 dark:hidden" fill="none"
                            viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                        </svg>
                    </button>

                    <!-- site notification -->
                    <button onclick="toggleOffcanvas('offcanvas-notification-left')"
                        class="relative text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 focus:outline-none">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
                        </svg>
                        <span class="absolute top-0 start-0 w-2 h-2 rounded-full bg-danger dark:bg-danger-dark"></span>
                    </button>

                    <!-- user messages -->
                    <button onclick="toggleOffcanvas('offcanvas-user-message-left')"
                        class="relative text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 focus:outline-none">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z" />
                        </svg>
                        <span
                            class="absolute top-0 start-0 w-2 h-2 rounded-full bg-success dark:bg-success-dark"></span>
                    </button>

                    <!-- user drop down -->
                    <div class="relative ms-3" id="user-dropdown">
                        <!-- Dropdown Button -->
                        <button onclick="toggleUserDropdown()" id="user-dropdown-button"
                            class="flex items-center focus:outline-none">
                            <div class="relative">
                                <img class="h-8 w-8 max-sm:hidden rounded-full border-2 border-white dark:border-gray-800 shadow"
                                    src="assets/images/user/user.png" alt="پروفایل کاربر">
                                <span
                                    class="absolute bottom-0 start-0 w-2 h-2 rounded-full bg-green-500 dark:bg-green-400 border-2 border-white dark:border-gray-800"></span>
                            </div>
                            <span class="ms-2 text-sm font-medium text-gray-900 dark:text-white">مریم محمدی</span>
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                stroke="currentColor" id="user-dropdown-icon" class="size-4 ms-2 transition-transform">
                                <path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5">
                                </path>
                            </svg>
                        </button>

                        <!-- Dropdown Menu -->
                        <div id="user-dropdown-menu"
                            class="absolute end-0 mt-2 w-48 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg z-10 shadow-lg hidden">
                            <!-- Profile Link -->
                            <a href="#"
                                class="flex items-center px-4 py-2 text-sm text-gray-700 space-x-1 rounded-lg dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                                <svg xmlns="http://www.w3.org/2000/svg" class="size-6" fill="none" viewBox="0 0 24 24"
                                    stroke-width="1.5" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z" />
                                </svg>
                                <span>پروفایل</span>
                            </a>

                            <!-- Settings Link -->
                            <a href="#"
                                class="flex items-center px-4 py-2 text-sm text-gray-700 space-x-1 rounded-lg dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                                <svg xmlns="http://www.w3.org/2000/svg" class="size-6" fill="none" viewBox="0 0 24 24"
                                    stroke-width="1.5" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281a1.125 1.125 0 0 0 .865.997l1.437.553a1.125 1.125 0 0 1 .51 1.685l-1.004.827a1.125 1.125 0 0 0 0 1.742l1.004.827a1.125 1.125 0 0 1-.51 1.685l-1.437.553a1.125 1.125 0 0 0-.865.997l-.213 1.281a1.125 1.125 0 0 1-1.11.94h-2.593a1.125 1.125 0 0 1-1.11-.94l-.213-1.281a1.125 1.125 0 0 0-.865-.997l-1.437-.553a1.125 1.125 0 0 1-.51-1.685l1.004-.827a1.125 1.125 0 0 0 0-1.742l-1.004-.827a1.125 1.125 0 0 1 .51-1.685l1.437-.553a1.125 1.125 0 0 0 .865-.997l.213-1.281Z" />
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                                </svg>
                                <span>تنظیمات</span>
                            </a>

                            <!-- Logout Link -->
                            <a href="#" id="logoutButton"
                                class="flex items-center px-4 py-2 text-sm text-gray-700 space-x-1 rounded-lg dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                                <svg xmlns="http://www.w3.org/2000/svg" class="size-6" fill="none" viewBox="0 0 24 24"
                                    stroke-width="1.5" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75" />
                                </svg>
                                <span>خروج</span>
                            </a>
                        </div>
                    </div>

                </div>
            </header>

            <!-- page content -->
            <main class="flex-1 overflow-y-auto p-6 bg-gray-50 dark:bg-background-dark">
                <!-- List of orders -->
                <!-- Order Views Container -->
                <div id="orders-views-container">
                    <!-- List View -->
                    <div id="orders-list-view"
                        class="bg-white dark:bg-card-dark rounded-xl shadow-soft dark:shadow-soft-dark overflow-hidden mb-6 border border-gray-100 dark:border-gray-700">
                        <div
                            class="p-6 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between">
                            <h3
                                class="font-bold text-lg mb-4 relative pb-4 before:absolute before:start-0 before:bottom-0 before:size-2 before:rounded-full before:bg-primary after:absolute after:w-40 after:h-2 after:bottom-0 after:start-4 after:bg-primary after:rounded-lg">
                                سفارشات اخیر
                            </h3>
                            <!-- Filter buttons commented out -->
                        </div>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                                <thead class="bg-gray-50 dark:bg-gray-800">
                                    <tr>
                                        <th scope="col"
                                            class="px-6 py-3 text-start text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">
                                            شماره سفارش</th>
                                        <th scope="col"
                                            class="px-6 py-3 text-start text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">
                                            تاریخ</th>
                                        <th scope="col"
                                            class="px-6 py-3 text-start text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">
                                            مبلغ</th>
                                        <th scope="col"
                                            class="px-6 py-3 text-start text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">
                                            وضعیت</th>
                                        <th scope="col"
                                            class="px-6 py-3 text-start text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">
                                            عملیات</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white dark:bg-card-dark divide-y divide-gray-200 dark:divide-gray-700">
                                    <!-- Orders will be populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                        <div
                            class="p-4 bg-gray-50 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between">
                            <p id="orders-count" class="text-sm text-gray-500 dark:text-gray-400">در حال بارگذاری...</p>
                            <div id="pagination" class="flex space-x-2 space-x-2">
                                <!-- Pagination will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>

                    <!-- Details View -->
                    <div id="order-details-view"
                        class="hidden bg-white dark:bg-card-dark rounded-xl shadow-soft dark:shadow-soft-dark overflow-hidden mb-6 border border-gray-100 dark:border-gray-700">
                        <div
                            class="p-6 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between">
                            <h3 class="font-bold text-lg">جزئیات سفارش</h3>
                            <button onclick="backToOrders()"
                                class="flex items-center text-sm font-medium text-primary hover:text-primary-dark transition-colors">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 me-1" viewBox="0 0 20 20"
                                    fill="currentColor">
                                    <path fill-rule="evenodd"
                                        d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z"
                                        clip-rule="evenodd" />
                                </svg>
                                بازگشت به لیست
                            </button>
                        </div>
                        <div id="order-details-content" class="p-6">
                            <!-- Details will be loaded here -->
                            <div class="animate-pulse space-y-4">
                                <div class="h-4 bg-gray-200 rounded w-1/4"></div>
                                <div class="space-y-2">
                                    <div class="h-4 bg-gray-200 rounded"></div>
                                    <div class="h-4 bg-gray-200 rounded w-5/6"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </main>
        </div>
    </div>
    <!-- /end page divider -->

    <!-- start canvas message -->

    <div id="offcanvas-user-message-left"
        class="offcanvas invisible dark:bg-background-dark dark:text-white fixed top-0 end-0 sm:w-100 w-[80%] h-full bg-white shadow-lg transform -translate-x-full transition-transform opacity-0 z-50"
        role="dialog" aria-labelledby="cart-title" aria-modal="true">
        <!-- Header -->
        <header class="border-b p-3 flex items-center justify-between border-gray-400">
            <h2 id="cart-title" class="font-bold text-base">پیغام های شما</h2>
            <button onclick="closeOffcanvas()" class="cursor-pointer" aria-label="بستن ">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                    stroke="currentColor" class="size-8">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
                </svg>
            </button>
        </header>
        <!-- message Items -->
        <main class="relative space-y-4 divide-y divide-gray-200 p-3 overflow-y-scroll h-full">
            <!-- message one -->
            <div
                class="bg-white last:mb-20 border border-gray-400 rounded-2xl shadow-md dark:bg-card-dark dark:text-white overflow-hidden p-5 space-y-3">
                <div class="flex items-start space-x-3 rtl:space-x-reverse">
                    <div class="flex flex-col space-y-2">
                        <div class="flex items-center space-x-2">
                            <img class="h-12 w-12 rounded-full" src="assets/images/user/user.jpg" alt="آواتار کاربر">
                            <p class="text-sm  text-gray-900 dark:text-white">کاربر مهمان</p>
                            <span
                                class="px-2 py-0.5 rounded-full text-xs font-medium bg-primary-grad text-white text-blue-800 ">جدید</span>
                        </div>
                        <p class="mt-1 dark:text-white ms-3 text-sm text-gray-600">
                            سلام! این یک پیغام شبیه به توئیت است که می‌توانید برای چت یا نظرات استفاده کنید.
                        </p>
                        <div class="mt-2 flex items-center space-x-4 text-gray-500 text-sm">
                            <div class="flex items-center">
                                <svg class="me-1 h-4 w-4" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd"
                                        d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z"
                                        clip-rule="evenodd"></path>
                                </svg>
                                ۲ دقیقه پیش
                            </div>
                            <button
                                class="text-primary hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-500 font-medium">پاسخ</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- message two -->
            <div
                class="bg-white last:mb-20 border border-gray-400 rounded-2xl shadow-md dark:bg-card-dark dark:text-white overflow-hidden p-5 space-y-3">
                <div class="flex items-start space-x-3 rtl:space-x-reverse">
                    <div class="flex flex-col space-y-2">
                        <div class="flex items-center space-x-2">
                            <img class="h-12 w-12 rounded-full" src="assets/images/user/user.jpg" alt="آواتار کاربر">
                            <p class="text-sm  text-gray-900 dark:text-white">کاربر مهمان</p>
                            <span
                                class="px-2 py-0.5 rounded-full text-xs font-medium bg-primary-grad text-white text-blue-800 ">جدید</span>
                        </div>
                        <p class="mt-1 dark:text-white ms-3 text-sm text-gray-600">
                            سلام! این یک پیغام شبیه به توئیت است که می‌توانید برای چت یا نظرات استفاده کنید.
                        </p>
                        <div class="mt-2 flex items-center space-x-4 text-gray-500 text-sm">
                            <div class="flex items-center">
                                <svg class="me-1 h-4 w-4" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd"
                                        d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z"
                                        clip-rule="evenodd"></path>
                                </svg>
                                ۲ دقیقه پیش
                            </div>
                            <button
                                class="text-primary hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-500 font-medium">پاسخ</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <!-- Overlay -->
    <div class="overlay transition fixed inset-0 z-40 bg-black/70 hidden" onclick="closeOffcanvas()" role="presentation"
        aria-hidden="true"></div>

    <!-- /canvas message -->

    <!-- start canvas notification -->

    <div id="offcanvas-notification-left"
        class="offcanvas invisible dark:bg-background-dark dark:text-white fixed top-0 end-0 sm:w-100 w-[80%] h-full bg-white shadow-lg transform -translate-x-full transition-transform opacity-0 z-50"
        role="dialog" aria-labelledby="cart-title" aria-modal="true">
        <!-- Header -->
        <header class="border-b p-3 flex items-center justify-between border-gray-400">
            <h2 class="font-bold text-base">اعلان های شما</h2>
            <button onclick="closeOffcanvas()" class="cursor-pointer" aria-label="بستن ">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                    stroke="currentColor" class="size-8">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
                </svg>
            </button>
        </header>
        <!-- notification Items -->
        <main class="relative space-y-4 divide-y divide-gray-200 p-3 overflow-y-scroll h-full">
            <!-- گروه اعلان‌ها -->
            <div class="space-y-3">
                <!-- notification 1 -->
                <div class="bg-white dark:bg-card-dark rounded-lg shadow-md overflow-hidden border border-gray-300">
                    <div class="p-3 flex items-start">
                        <div class="flex-shrink-0 bg-blue-100 p-1 rounded-full">
                            <svg class="h-5 w-5 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                                <path
                                    d="M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z" />
                            </svg>
                        </div>
                        <div class="ms-3 flex-1">
                            <p class="text-sm font-bold text-gray-900 dark:text-white">یادآوری قرارملاقات</p>
                            <p class="mt-1 text-sm text-gray-500 dark:text-gray-300">جلسه امروز ساعت 14:30 در اتاق
                                کنفرانس</p>
                        </div>
                        <button class="me-2 text-gray-400 hover:text-gray-500">
                            <svg class="h-4 w-4" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd"
                                    d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                                    clip-rule="evenodd"></path>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- notification 2 -->
                <div class="bg-white dark:bg-card-dark rounded-lg shadow-md overflow-hidden border border-gray-300">
                    <div class="p-3 flex items-start">
                        <div class="flex-shrink-0 bg-green-100 p-1 rounded-full">
                            <svg class="h-5 w-5 text-green-600" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd"
                                    d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                                    clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <div class="ms-3 flex-1">
                            <p class="text-sm font-bold text-gray-900 dark:text-white">پرداخت موفق</p>
                            <p class="mt-1 text-sm text-gray-500 dark:text-gray-300">تراکنش شما با موفقیت انجام شد. کد
                                رهگیری: 458712</p>
                        </div>
                        <button class="me-2 text-gray-400 hover:text-gray-500">
                            <svg class="h-4 w-4" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd"
                                    d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                                    clip-rule="evenodd"></path>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <!-- Overlay -->
    <div class="overlay transition fixed inset-0 z-40 bg-black/70 hidden" onclick="closeOffcanvas()" role="presentation"
        aria-hidden="true"></div>

    <!-- /canvas notification -->

    <!-- start canvas responsive menu -->

    <div id="offcanvas-responsive-menu-right"
        class="offcanvas invisible dark:bg-background-dark dark:text-white fixed top-0 start-0 sm:w-100 w-[80%] h-full bg-white shadow-lg transform -translate-x-full transition-transform opacity-0 z-50"
        role="dialog" aria-labelledby="cart-title" aria-modal="true">
        <!-- Header -->
        <header class="border-b p-3 flex items-center justify-between border-gray-400">
            <h2 class="font-bold text-base">پنل کاربری</h2>
            <button onclick="closeOffcanvas()" class="cursor-pointer" aria-label="بستن ">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                    stroke="currentColor" class="size-8">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
                </svg>
            </button>
        </header>
        <!-- menu Items -->
        <main class="p-3 overflow-y-scroll h-full">
            <div class="flex pb-10 rounded flex-col w-full h-full bg-card-light dark:bg-card-dark">
                <!-- logo -->
                <div class="flex items-center justify-center h-20 px-4 border-b border-gray-200 dark:border-gray-700">
                    <div class="flex items-center">
                        <div class="w-10 h-10 rounded-md bg-primary-grad flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
                            </svg>
                        </div>
                        <h1 class="ms-3 text-xl font-bold text-dark dark:text-light">قالب <span
                                class="text-primary">آرینو </span></h1>
                    </div>
                </div>

                <!-- menu -->
                <div class="flex flex-col flex-grow p-4 overflow-y-auto">
                    <nav class="space-y-1">
                        <a href="#"
                            class="flex items-center px-4 py-3 text-sm font-medium rounded-lg bg-primary/10 dark:bg-primary/20 text-primary dark:text-primary-dark">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 me-2" viewBox="0 0 20 20"
                                fill="currentColor">
                                <path
                                    d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z">
                                </path>
                            </svg>
                            پیشخوان
                            <span class="ms-auto w-2 h-2 rounded-full bg-primary dark:bg-primary-dark"></span>
                        </a>
                        <a href="#"
                            class="flex items-center px-4 py-3 text-sm font-medium rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 me-2" viewBox="0 0 20 20"
                                fill="currentColor">
                                <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"
                                    clip-rule="evenodd"></path>
                            </svg>
                            پروفایل کاربری
                        </a>
                        <a href="#"
                            class="flex items-center px-4 py-3 text-sm font-medium rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 me-2" viewBox="0 0 20 20"
                                fill="currentColor">
                                <path
                                    d="M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z">
                                </path>
                                <path fill-rule="evenodd"
                                    d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z"
                                    clip-rule="evenodd"></path>
                            </svg>
                            کیف پول
                            <span
                                class="ms-auto px-2 py-0.5 text-xs font-medium rounded-full bg-secondary/10 dark:bg-secondary-300 text-secondary dark:text-white">جدید</span>
                        </a>
                        <a href="#"
                            class="flex items-center px-4 py-3 text-sm font-medium rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 me-2" viewBox="0 0 20 20"
                                fill="currentColor">
                                <path fill-rule="evenodd"
                                    d="M10 2a4 4 0 00-4 4v1H5a1 1 0 00-.994.89l-1 9A1 1 0 004 18h12a1 1 0 00.994-1.11l-1-9A1 1 0 0015 7h-1V6a4 4 0 00-4-4zm2 5V6a2 2 0 10-4 0v1h4zm-6 3a1 1 0 112 0 1 1 0 01-2 0zm7-1a1 1 0 100 2 1 1 0 000-2z"
                                    clip-rule="evenodd"></path>
                            </svg>
                            سفارشات
                        </a>
                        <a href="#"
                            class="flex items-center px-4 py-3 text-sm font-medium rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 me-2" viewBox="0 0 20 20"
                                fill="currentColor">
                                <path fill-rule="evenodd"
                                    d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z"
                                    clip-rule="evenodd"></path>
                            </svg>
                            علاقه‌مندی‌ها
                        </a>
                        <a href="#"
                            class="flex items-center px-4 py-3 text-sm font-medium rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 me-2" viewBox="0 0 20 20"
                                fill="currentColor">
                                <path fill-rule="evenodd"
                                    d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z"
                                    clip-rule="evenodd"></path>
                            </svg>
                            پشتیبانی
                        </a>
                    </nav>

                    <!-- user profile -->
                    <div class="mt-auto p-4 bg-gray-50 dark:bg-gray-900 rounded-xl">
                        <div class="flex items-center">
                            <div class="relative">
                                <img class="h-12 w-12 rounded-full border-2 border-white dark:border-gray-800 shadow"
                                    src="assets/images/user/user.jpg" alt="پروفایل کاربر">
                                <span
                                    class="absolute bottom-0 start-0 w-3 h-3 rounded-full bg-success dark:bg-success-dark border-2 border-white dark:border-gray-800"></span>
                            </div>
                            <div class="ms-3">
                                <p class="text-sm font-medium text-dark dark:text-light">مریم محمدی</p>
                                <p class="text-xs text-gray-500 dark:text-gray-400">سطح طلایی</p>
                            </div>
                        </div>
                        <button
                            class="mt-4 w-full flex items-center justify-center px-4 py-2 text-sm text-gray-600 dark:text-gray-300 bg-white dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 border border-gray-200 dark:border-gray-600">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 me-2" viewBox="0 0 20 20"
                                fill="currentColor">
                                <path fill-rule="evenodd"
                                    d="M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z"
                                    clip-rule="evenodd"></path>
                            </svg>
                            خروج از حساب
                        </button>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <!-- Overlay -->
    <div class="overlay transition fixed inset-0 z-40 bg-black/70 hidden" onclick="closeOffcanvas()" role="presentation"
        aria-hidden="true"></div>

    <!-- /canvas responsive menu -->


    <script src="assets/js/plugin/chart-js/chart.js"></script>
    <script src="assets/js/dependencies/app.js"></script>
    <script src="assets/js/api-client.js"></script>
    <script src="assets/js/auth-service.js"></script>
    <script src="assets/js/auth-guard.js"></script>
    <script src="assets/js/user-panel-common.js"></script>
    <script src="assets/js/utils.js"></script>
    <script src="assets/js/services/order-service.js"></script>

    <script>
        let currentPage = 1;
        let totalPages = 1;
        let currentFilters = {};

        // Load orders when page loads
        document.addEventListener('DOMContentLoaded', async function () {
            const viewingOrderId = sessionStorage.getItem('viewingOrderId');
            if (viewingOrderId) {
                await loadOrderDetails(viewingOrderId);
            } else {
                await loadOrders();
            }
            setupEventListeners();
        });

        // Load order details
        async function loadOrderDetails(orderId) {
            // Toggle Views
            document.getElementById('orders-list-view').classList.add('hidden');
            document.getElementById('order-details-view').classList.remove('hidden');
            const contentDiv = document.getElementById('order-details-content');

            try {
                // Fetch order details
                const response = await window.orderService.getOrder(orderId);
                if (response.success && response.data) {
                    const order = response.data;
                    contentDiv.innerHTML = `
                         <!-- Order Info Grid -->
                         <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                             <div>
                                 <h4 class="text-sm font-medium text-gray-500 mb-2">شماره سفارش</h4>
                                 <p class="text-lg font-bold text-dark dark:text-light">${order.orderNumber || order.id}</p>
                             </div>
                             <div>
                                 <h4 class="text-sm font-medium text-gray-500 mb-2">تاریخ ثبت</h4>
                                 <p class="text-lg text-dark dark:text-light">${window.utils.formatDate(order.orderDate)}</p>
                             </div>
                             <div>
                                 <h4 class="text-sm font-medium text-gray-500 mb-2">مبلغ کل</h4>
                                 <p class="text-lg text-primary font-bold">${window.utils.formatPrice(order.totalAmount)} تومان</p>
                             </div>
                             <div>
                                 <h4 class="text-sm font-medium text-gray-500 mb-2">وضعیت</h4>
                                 <span class="px-3 py-1 inline-flex text-xs leading-5 rounded-full ${getStatusColor(order.status)}">
                                     ${getStatusText(order.status)}
                                 </span>
                             </div>
                         </div>
                         
                         <!-- Order Items -->
                         <h4 class="font-bold text-lg mb-4 text-dark dark:text-light">آیتم‌های سفارش</h4>
                         <div class="overflow-x-auto border rounded-xl border-gray-200 dark:border-gray-700">
                            <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                                <thead class="bg-gray-50 dark:bg-gray-800">
                                    <tr>
                                        <th class="px-6 py-3 text-start text-xs font-medium text-gray-500 dark:text-gray-400">محصول</th>
                                        <th class="px-6 py-3 text-start text-xs font-medium text-gray-500 dark:text-gray-400">تعداد</th>
                                        <th class="px-6 py-3 text-start text-xs font-medium text-gray-500 dark:text-gray-400">قیمت واحد</th>
                                        <th class="px-6 py-3 text-start text-xs font-medium text-gray-500 dark:text-gray-400">مبلغ کل</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-gray-200 dark:divide-gray-700 bg-white dark:bg-card-dark">
                                    ${(order.items || []).map(item => `
                                        <tr>
                                            <td class="px-6 py-4 text-sm font-medium text-dark dark:text-light">${item.productTitle || item.productName || 'محصول'}</td>
                                            <td class="px-6 py-4 text-sm text-gray-500 dark:text-gray-400">${item.quantity}</td>
                                            <td class="px-6 py-4 text-sm text-gray-500 dark:text-gray-400">${window.utils.formatPrice(item.unitPrice)}</td>
                                            <td class="px-6 py-4 text-sm text-gray-500 dark:text-gray-400">${window.utils.formatPrice(item.totalPrice)}</td>
                                        </tr>
                                    `).join('')}
                                </tbody>
                            </table>
                         </div>
                    `;
                } else {
                    contentDiv.innerHTML = `<p class="text-red-500 text-center py-4">خطا در دریافت جزئیات سفارش</p>`;
                }
            } catch (err) {
                console.error(err);
                contentDiv.innerHTML = `<p class="text-red-500 text-center py-4">خطا در ارتباط با سرور</p>`;
            }
        }

        // Back to order list
        function backToOrders() {
            sessionStorage.removeItem('viewingOrderId');
            document.getElementById('order-details-view').classList.add('hidden');
            document.getElementById('orders-list-view').classList.remove('hidden');
            loadOrders();
        }
        window.backToOrders = backToOrders;

        // Setup event listeners
        function setupEventListeners() {
            // Filter form
            const filterForm = document.querySelector('.bg-white.dark\\:bg-card-dark.rounded-xl.shadow-soft');
            if (filterForm) {
                const applyFilterBtn = filterForm.querySelector('button');
                if (applyFilterBtn) {
                    applyFilterBtn.addEventListener('click', handleFilterApply);
                }
            }

            // Filter buttons in the table header
            const filterButtons = document.querySelectorAll('[data-filter]');
            filterButtons.forEach(button => {
                button.addEventListener('click', handleFilter);
            });

            // Pagination
            const paginationContainer = document.getElementById('pagination');
            if (paginationContainer) {
                paginationContainer.addEventListener('click', handlePagination);
            }

            // Order tracking form
            const trackingForm = document.querySelector('input[placeholder="ط´ظ…ط§ط±ظ‡ ط³ظپط§ط±ط´ ط®ظˆط¯ ط±ط§ ظˆط§ط±ط¯ ع©ظ†غŒط¯"]');
            if (trackingForm) {
                const trackingBtn = trackingForm.nextElementSibling;
                if (trackingBtn) {
                    trackingBtn.addEventListener('click', handleOrderTracking);
                }
            }
        }

        // Load user orders
        async function loadOrders(filters = {}) {
            try {
                // Show loading on the table body
                const tableBody = document.querySelector('tbody');
                if (tableBody) {
                    tableBody.innerHTML = `
                    <tr>
                        <td colspan="5" class="px-6 py-8 text-center text-gray-500 dark:text-gray-400">
                            <div class="flex items-center justify-center">
                                <div class="animate-spin rounded-full h-6 w-6 border-b-2 border-primary"></div>
                                <span class="mr-2">ط¯ط± ط­ط§ظ„ ط¨ط§ط±ع¯ط°ط§ط±غŒ...</span>
                            </div>
                        </td>
                    </tr>
                `;
                }

                const searchCriteria = {
                    pageNumber: currentPage,
                    pageSize: 10,
                    ...filters
                };

                const response = await window.orderService.searchOrders(null, searchCriteria);

                if (response.success && response.data) {
                    // Handle PagedResultDto structure
                    let orders = [];
                    let totalPages = 1;
                    let pageNumber = currentPage;
                    let totalItems = 0;
                    let itemsPerPage = 10;

                    if (response.data.items && Array.isArray(response.data.items)) {
                        orders = response.data.items;
                        totalPages = response.data.totalPages || Math.ceil((response.data.totalCount || 0) / (response.data.pageSize || 10));
                        pageNumber = response.data.pageNumber || currentPage;
                        totalItems = response.data.totalCount || orders.length;
                        itemsPerPage = response.data.pageSize || 10;
                    } else if (response.data.data && response.data.data.items) {
                        // Nested structure
                        orders = response.data.data.items || [];
                        totalPages = response.data.data.totalPages || 1;
                        pageNumber = response.data.data.pageNumber || currentPage;
                        totalItems = response.data.data.totalCount || response.data.data.total || orders.length;
                        itemsPerPage = response.data.data.pageSize || 10;
                    } else if (Array.isArray(response.data)) {
                        orders = response.data;
                        totalItems = orders.length;
                    }

                    currentPage = pageNumber;
                    displayOrders(orders);
                    updatePagination(totalPages, currentPage, totalItems, itemsPerPage);
                } else {
                    window.utils.showToast(response.error || 'ط®ط·ط§ ط¯ط± ط¨ط§ط±ع¯ط°ط§ط±غŒ ط³ظپط§ط±ط´â€Œظ‡ط§', 'error');
                }
            } catch (error) {
                console.error('Error loading orders:', error);
                const errorMsg = error?.message || 'خطا در بارگذاری سفارش‌ها';
                window.utils?.showToast(errorMsg, 'error');
                window.utils.showToast('ط®ط·ط§ ط¯ط± ط§طھطµط§ظ„ ط¨ظ‡ ط³ط±ظˆط±', 'error');
            }
        }

        // Display orders in the UI
        function displayOrders(orders) {
            const tableBody = document.querySelector('tbody');
            if (!tableBody) return;

            if (!Array.isArray(orders) || orders.length === 0) {
                tableBody.innerHTML = `
                <tr>
                    <td colspan="5" class="px-6 py-8 text-center text-gray-500 dark:text-gray-400">
                        <div class="flex flex-col items-center">
                            <svg class="w-12 h-12 mb-4 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                            </svg>
                            <p>ظ‡ظ†ظˆط² ط³ظپط§ط±ط´غŒ ط«ط¨طھ ظ†ع©ط±ط¯ظ‡â€Œط§غŒط¯</p>
                        </div>
                    </td>
                </tr>
            `;
                return;
            }

            tableBody.innerHTML = orders.map(order => `
            <tr class="hover:bg-gray-50 dark:hover:bg-gray-700/50">
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-dark dark:text-light">
                    #${order.orderNumber || order.id}
                </td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400">
                    ${window.utils.formatDate(order.orderDate)}
                </td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400">
                    ${window.utils.formatPrice(order.totalAmount)} طھظˆظ…ط§ظ†
                </td>
                <td class="px-6 py-4 whitespace-nowrap">
                    <span class="px-3 py-1 inline-flex text-xs leading-5 rounded-full ${getStatusColor(order.status)}">
                        ${getStatusText(order.status)}
                    </span>
                </td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400">
                    <div class="flex items-center space-x-2 space-x-reverse">
                        <button onclick="viewOrderDetails('${order.id}')" 
                                class="text-primary hover:text-primary/80 dark:text-primary-dark dark:hover:text-primary/70 flex items-center">
                            ط¬ط²ط¦غŒط§طھ
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5 8.25 12l7.5-7.5"></path>
                            </svg>
                        </button>
                        ${canDownloadInvoice(order) ? `
                            <button onclick="downloadInvoice('${order.id}')" 
                                    class="text-green-600 hover:text-green-800 flex items-center">
                                ظپط§ع©طھظˆط±
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"></path>
                                </svg>
                            </button>
                        ` : ''}
                        ${canTrackOrder(order) ? `
                            <button onclick="trackOrder('${order.id}')" 
                                    class="text-blue-600 hover:text-blue-800 flex items-center">
                                ظ¾غŒع¯غŒط±غŒ
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"></path>
                                </svg>
                            </button>
                        ` : ''}
                    </div>
                </td>
            </tr>
        `).join('');
        }

        // Get status color class
        function getStatusColor(status) {
            const statusColors = {
                'Pending': 'bg-yellow-100 text-yellow-800',
                'Processing': 'bg-blue-100 text-blue-800',
                'Shipped': 'bg-purple-100 text-purple-800',
                'Delivered': 'bg-green-100 text-green-800',
                'Cancelled': 'bg-red-100 text-red-800',
                'Returned': 'bg-gray-100 text-gray-800'
            };
            return statusColors[status] || 'bg-gray-100 text-gray-800';
        }

        // Get status text
        function getStatusText(status) {
            const statusTexts = {
                'Pending': 'ط¯ط± ط§ظ†طھط¸ط§ط±',
                'Processing': 'ط¯ط± ط­ط§ظ„ ظ¾ط±ط¯ط§ط²ط´',
                'Shipped': 'ط§ط±ط³ط§ظ„ ط´ط¯ظ‡',
                'Delivered': 'طھط­ظˆغŒظ„ ط¯ط§ط¯ظ‡ ط´ط¯ظ‡',
                'Cancelled': 'ظ„ط؛ظˆ ط´ط¯ظ‡',
                'Returned': 'ظ…ط±ط¬ظˆط¹ ط´ط¯ظ‡'
            };
            return statusTexts[status] || status;
        }

        // Check if order can be returned
        function canReturnOrder(order) {
            const returnableStatuses = ['Delivered'];
            const maxReturnDays = 7; // 7 days after delivery

            if (!returnableStatuses.includes(order.status)) {
                return false;
            }

            if (order.orderDate) {
                const orderDate = new Date(order.orderDate);
                const now = new Date();
                const daysDiff = Math.floor((now - orderDate) / (1000 * 60 * 60 * 24));
                return daysDiff <= maxReturnDays;
            }

            return false;
        }

        // Check if invoice can be downloaded
        function canDownloadInvoice(order) {
            const downloadableStatuses = ['Processing', 'Shipped', 'Delivered'];
            return downloadableStatuses.includes(order.status);
        }

        // Check if order can be tracked
        function canTrackOrder(order) {
            const trackableStatuses = ['Shipped', 'Delivered'];
            return trackableStatuses.includes(order.status);
        }

        // View order details
        function viewOrderDetails(orderId) {
            if (!orderId) {
                window.utils?.showToast('شناسه سفارش نامعتبر است', 'error');
                return;
            }
            sessionStorage.setItem('viewingOrderId', orderId);
            window.location.href = 'user-panel-order.html';
        }

        // Make function globally available
        window.viewOrderDetails = viewOrderDetails;

        // Return order
        function returnOrder(orderId) {
            sessionStorage.setItem('returningOrderId', orderId);
            window.location.href = 'user-panel-order-return-step-one.html';
        }

        // Download invoice
        async function downloadInvoice(orderId) {
            try {
                window.utils.showToast('ط¯ط± ط­ط§ظ„ ط¯ط§ظ†ظ„ظˆط¯ ظپط§ع©طھظˆط±...', 'info');

                // This would call the API to download invoice
                // For now, we'll simulate it
                const response = await fetch(`${window.config.api.baseURL}/userorder/${orderId}/invoice`, {
                    method: 'GET',
                    headers: {
                        'Authorization': `Bearer ${localStorage.getItem('accessToken')}`
                    }
                });

                if (response.ok) {
                    const blob = await response.blob();
                    const url = window.URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = `invoice-${orderId}.pdf`;
                    document.body.appendChild(a);
                    a.click();
                    window.URL.revokeObjectURL(url);
                    document.body.removeChild(a);
                    window.utils.showToast('ظپط§ع©طھظˆط± ط¨ط§ ظ…ظˆظپظ‚غŒطھ ط¯ط§ظ†ظ„ظˆط¯ ط´ط¯', 'success');
                } else {
                    window.utils.showToast('ط®ط·ط§ ط¯ط± ط¯ط§ظ†ظ„ظˆط¯ ظپط§ع©طھظˆط±', 'error');
                }
            } catch (error) {
                console.error('Error downloading invoice:', error);
                const errorMsg = error?.message || 'خطا در دانلود فاکتور';
                window.utils?.showToast(errorMsg, 'error');
                window.utils.showToast('ط®ط·ط§ ط¯ط± ط¯ط§ظ†ظ„ظˆط¯ ظپط§ع©طھظˆط±', 'error');
            }
        }

        // Track order
        async function trackOrder(orderId) {
            try {
                window.utils.showToast('ط¯ط± ط­ط§ظ„ ط¯ط±غŒط§ظپطھ ط§ط·ظ„ط§ط¹ط§طھ ظ¾غŒع¯غŒط±غŒ...', 'info');

                const response = await window.orderService.trackOrder(orderId);

                if (response.success && response.data) {
                    // Show tracking modal
                    const trackingData = Array.isArray(response.data) ? response.data : (response.data.data || [response.data]);
                    showTrackingModal(trackingData);
                } else {
                    window.utils.showToast(response.error || 'ط®ط·ط§ ط¯ط± ط¯ط±غŒط§ظپطھ ط§ط·ظ„ط§ط¹ط§طھ ظ¾غŒع¯غŒط±غŒ', 'error');
                }
            } catch (error) {
                console.error('Error tracking order:', error);
                const errorMsg = error?.message || 'خطا در دریافت اطلاعات رهگیری';
                window.utils?.showToast(errorMsg, 'error');
                window.utils.showToast('ط®ط·ط§ ط¯ط± ط¯ط±غŒط§ظپطھ ط§ط·ظ„ط§ط¹ط§طھ ظ¾غŒع¯غŒط±غŒ', 'error');
            }
        }

        // Show tracking modal
        function showTrackingModal(trackingData) {
            if (!trackingData || trackingData.length === 0) {
                window.utils.showToast('ط§ط·ظ„ط§ط¹ط§طھ ظ¾غŒع¯غŒط±غŒ در دسترس نیست', 'info');
                return;
            }

            // Create and show a modal with tracking information
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
            <div class="bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-bold text-dark dark:text-light">ظˆط¶ط¹غŒطھ ظ¾غŒع¯غŒط±غŒ ط³ظپط§ط±ط´</h3>
                    <button onclick="this.closest('.fixed').remove()" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                <div class="space-y-4">
                    ${trackingData.map((item, index) => {
                const isActive = item.isActive !== false && index === 0;
                const statusText = item.status || item.orderStatus || 'نامشخص';
                const dateText = item.date || item.createdAt || item.timestamp || '';
                return `
                            <div class="flex items-start space-x-3 space-x-reverse">
                                <div class="flex-shrink-0 mt-1">
                                    <div class="w-3 h-3 rounded-full ${isActive ? 'bg-primary' : 'bg-gray-300'}"></div>
                                    ${index < trackingData.length - 1 ? '<div class="w-0.5 h-8 bg-gray-300 mx-auto mt-1"></div>' : ''}
                                </div>
                                <div class="flex-1">
                                    <p class="font-medium text-dark dark:text-light">${statusText}</p>
                                    ${dateText ? `<p class="text-sm text-gray-500 dark:text-gray-400">${dateText}</p>` : ''}
                                </div>
                            </div>
                        `;
            }).join('')}
                </div>
                <button onclick="this.closest('.fixed').remove()" 
                        class="mt-4 w-full bg-primary text-white py-2 rounded-lg hover:bg-primary/90 dark:bg-primary-dark dark:hover:bg-primary/80">
                    ط¨ط³طھظ†
                </button>
            </div>
        `;
            document.body.appendChild(modal);

            // Close on backdrop click
            modal.addEventListener('click', function (e) {
                if (e.target === modal) {
                    modal.remove();
                }
            });
        }

        // Handle filter apply
        async function handleFilterApply(e) {
            e.preventDefault();

            // Get filter values from the form
            const filterForm = document.querySelector('.bg-white.dark\\:bg-card-dark.rounded-xl.shadow-soft');
            if (!filterForm) return;

            const statusSelect = filterForm.querySelector('select[name="status"], select');
            const orderNumberInput = filterForm.querySelector('input[placeholder*="ط´ظ…ط§ط±ظ‡ ط³ظپط§ط±ط´"], input[name="orderNumber"]');
            const dateInputs = filterForm.querySelectorAll('input[type="date"]');

            const filters = {};

            if (statusSelect && statusSelect.value) {
                filters.orderStatus = statusSelect.value;
            }

            if (orderNumberInput && orderNumberInput.value) {
                // Note: Order number search might need special handling
                filters.orderNumber = orderNumberInput.value;
            }

            if (dateInputs.length > 0 && dateInputs[0].value) {
                filters.startDate = dateInputs[0].value;
            }

            if (dateInputs.length > 1 && dateInputs[1].value) {
                filters.endDate = dateInputs[1].value;
            }

            currentFilters = filters;
            currentPage = 1;
            await loadOrders(filters);
        }

        // Handle order tracking
        async function handleOrderTracking(e) {
            e.preventDefault();

            const trackingInput = document.querySelector('input[placeholder="ط´ظ…ط§ط±ظ‡ ط³ظپط§ط±ط´ ط®ظˆط¯ ط±ط§ ظˆط§ط±ط¯ ع©ظ†غŒط¯"]');
            const orderNumber = trackingInput?.value;

            if (!orderNumber) {
                window.utils.showToast('ظ„ط·ظپط§ظ‹ ط´ظ…ط§ط±ظ‡ ط³ظپط§ط±ط´ ط±ط§ ظˆط§ط±ط¯ ع©ظ†غŒط¯', 'error');
                return;
            }

            try {
                window.utils.showToast('ط¯ط± ط­ط§ظ„ ط¬ط³طھط¬ظˆغŒ ط³ظپط§ط±ط´...', 'info');

                // Search for the order
                const response = await window.orderService.searchOrders({
                    orderNumber: orderNumber,
                    page: 1,
                    pageSize: 1
                });

                if (response.success && response.data.items && response.data.items.length > 0) {
                    const order = response.data.items[0];
                    showTrackingModal([{
                        status: getStatusText(order.status),
                        date: window.utils.formatDate(order.orderDate),
                        isActive: true
                    }]);
                } else {
                    window.utils.showToast('ط³ظپط§ط±ط´ غŒط§ظپطھ ظ†ط´ط¯', 'error');
                }
            } catch (error) {
                console.error('Error tracking order:', error);
                const errorMsg = error?.message || 'خطا در دریافت اطلاعات رهگیری';
                window.utils?.showToast(errorMsg, 'error');
                window.utils.showToast('ط®ط·ط§ ط¯ط± ط¬ط³طھط¬ظˆغŒ ط³ظپط§ط±ط´', 'error');
            }
        }

        // Handle filter buttons
        async function handleFilter(e) {
            const filter = e.target.dataset.filter;

            // Update button styles
            document.querySelectorAll('[data-filter]').forEach(btn => {
                btn.classList.remove('bg-primary/10', 'dark:bg-primary/20', 'text-primary', 'dark:text-primary-dark');
                btn.classList.add('hover:bg-gray-100', 'dark:hover:bg-gray-700');
            });

            e.target.classList.remove('hover:bg-gray-100', 'dark:hover:bg-gray-700');
            e.target.classList.add('bg-primary/10', 'dark:bg-primary/20', 'text-primary', 'dark:text-primary-dark');

            if (filter === 'all') {
                currentFilters = {};
            } else {
                currentFilters = { orderStatus: filter };
            }

            currentPage = 1;
            await loadOrders(currentFilters);
        }

        // Handle pagination
        async function handlePagination(e) {
            if (e.target.classList.contains('page-link')) {
                e.preventDefault();
                const page = parseInt(e.target.dataset.page);
                if (page && page !== currentPage) {
                    currentPage = page;
                    await loadOrders(currentFilters);
                }
            }
        }

        // Update pagination
        function updatePagination(totalPagesCount, currentPageNum, totalItems, itemsPerPage) {
            const container = document.getElementById('pagination');
            const countElement = document.getElementById('orders-count');
            if (!container) return;

            totalPages = totalPagesCount;
            if (currentPageNum !== undefined) currentPage = currentPageNum;

            // Update count text
            if (countElement && totalItems !== undefined && itemsPerPage !== undefined) {
                const start = totalItems > 0 ? ((currentPage - 1) * itemsPerPage) + 1 : 0;
                const end = Math.min(currentPage * itemsPerPage, totalItems);
                countElement.textContent = `نمایش ${start} تا ${end} از ${totalItems} سفارش`;
            }

            if (totalPages <= 1) {
                container.innerHTML = '';
                return;
            }

            let paginationHTML = '<nav class="flex items-center justify-center space-x-1 space-x-reverse">';

            // Previous button
            if (currentPage > 1) {
                paginationHTML += `
                <button class="page-link px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-700" 
                        data-page="${currentPage - 1}">
                    ظ‚ط¨ظ„غŒ
                </button>
            `;
            }

            // Page numbers
            const startPage = Math.max(1, currentPage - 2);
            const endPage = Math.min(totalPages, currentPage + 2);

            if (startPage > 1) {
                paginationHTML += `
                <button class="page-link px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-700" 
                        data-page="1">1</button>
            `;
                if (startPage > 2) {
                    paginationHTML += '<span class="px-2 text-gray-500">...</span>';
                }
            }

            for (let i = startPage; i <= endPage; i++) {
                const isActive = i === currentPage;
                paginationHTML += `
                <button class="page-link px-3 py-2 text-sm font-medium ${isActive ?
                        'text-white bg-primary border-primary dark:bg-primary-dark dark:border-primary-dark' :
                        'text-gray-500 bg-white border-gray-300 hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-700'
                    } border rounded-lg" data-page="${i}">
                    ${i}
                </button>
            `;
            }

            if (endPage < totalPages) {
                if (endPage < totalPages - 1) {
                    paginationHTML += '<span class="px-2 text-gray-500">...</span>';
                }
                paginationHTML += `
                <button class="page-link px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-700" 
                        data-page="${totalPages}">${totalPages}</button>
            `;
            }

            // Next button
            if (currentPage < totalPages) {
                paginationHTML += `
                <button class="page-link px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-700" 
                        data-page="${currentPage + 1}">
                    ط¨ط¹ط¯غŒ
                </button>
            `;
            }

            paginationHTML += '</nav>';
            container.innerHTML = paginationHTML;
        }

        // Logout functionality is handled by user-panel-common.js
    </script>

</body>

</html>